import utils.blog_utils as utils
from config import REPO_URL

work_ids = utils.get_work_ids(REPO_URL)
for work_id in work_ids:
    result = utils.query_result(work_id)
    print(result)
    utils.sync_db(result)
    # utils.render_documents(**result)

# tests
works = [
    "/post/1b5b10_2b951ab73",
    "/post/1b5b10_2b94d235e",
    "/post/1b5b10_2b902e17e",
    "/post/1b5b10_2b8ff4f20",
    "/post/1b5b10_2b8fd5d17",
    "/post/1b5b10_2b8fcef03",
    "/post/1b5b10_2b8f7abf5",
    "/post/1b5b10_2b8f5c173",
    "/post/1b5b10_2b8f5c7c0",
    "/post/1b5b10_2b8d939a0",
    "/post/1b5b10_2b897d07e",
    "/post/1b5b10_2b7baff68",
    "/post/1b5b10_2b7120c65",
    "/post/1b5b10_2b69d0227",
    "/post/1b5b10_2b5c4102a",
    "/post/1b5b10_2b5c18f90",
    "/post/1b5b10_2b5bf1c18",
    "/post/1b5b10_2b5b98249",
    "/post/1b5b10_2b5b86f0e",
    "/post/1b5b10_2b3fa5f76",
    "/post/1b5b10_2b3f820bd",
    "/post/1b5b10_1cd2d4f9e",
    "/post/1b5b10_1cd2bdc23",
    "/post/1b5b10_1cd2990cb",
    "/post/1b5b10_1cd28243e",
    "/post/1b5b10_1cd265a46",
    "/post/1b5b10_1cd1385b9",
    "/post/1b5b10_1ccca1e0c",
    "/post/1b5b10_1cc65eca2",
    "/post/1b5b10_1cc1cc0fc",
    "/post/1b5b10_1cb5dbf29",
    "/post/1b5b10_1cb3d5d75",
    "/post/1b5b10_1cb2a3167",
    "/post/1b5b10_1cac9ef53",
    "/post/1b5b10_1cac4ba68",
    "/post/1b5b10_1caba99da",
    "/post/1b5b10_1caa4b179",
    "/post/1b5b10_1ca945d65",
    "/post/1b5b10_1ca6cfa08",
    "/post/1b5b10_1c995e66c",
    "/post/1b5b10_1c9728a3a",
    "/post/1b5b10_1c90e2146",
    "/post/1b5b10_1c82b05a5",
    "/post/1b5b10_1c7194b79",
    "/post/1b5b10_1c6c5b84f",
    "/post/1b5b10_1c6a61372",
    "/post/1b5b10_1c6944bbd",
    "/post/1b5b10_1c64d580b",
    "/post/1b5b10_1c61635a0",
    "/post/1b5b10_1c611b127",
    "/post/1b5b10_1c5d50bae",
    "/post/1b5b10_1c5d2a548",
    "/post/1b5b10_1c5cf1a6c",
    "/post/1b5b10_1c5c8c167",
    "/post/1b5b10_1c5bd87c4",
    "/post/1b5b10_12aa1ac83",
    "/post/1b5b10_12aa218fd",
    "/post/1b5b10_12a784783",
    "/post/1b5b10_123d6e79",
    "/post/1b5b10_11f742e9",
    "/post/1b5b10_116b959d",
    "/post/1b5b10_1034b0e1",
    "/post/1b5b10_fd12a17",
    "/post/1b5b10_fccd06c",
    "/post/1b5b10_ebc3b91",
    "/post/1b5b10_e960256",
    "/post/1b5b10_e196c5a",
    "/post/1b5b10_e11cd3c",
    "/post/1b5b10_dca91ce",
    "/post/1b5b10_db65e5d",
    "/post/1b5b10_da9feb0",
    "/post/1b5b10_d979a53",
    "/post/1b5b10_d8e2450",
    "/post/1b5b10_d890e31",
    "/post/1b5b10_d4d7425",
    "/post/1b5b10_d49fdf2",
    "/post/1b5b10_d1f566a",
    "/post/1b5b10_d06a067",
    "/post/1b5b10_cdb8e8f",
    "/post/1b5b10_ccd2473",
    "/post/1b5b10_ca70b51",
    "/post/1b5b10_ca2d197",
    "/post/1b5b10_c988c55",
    "/post/1b5b10_c70a206",
    "/post/1b5b10_c692540",
    "/post/1b5b10_c5e3956",
    "/post/1b5b10_c4e6dc0",
    "/post/1b5b10_c3f3c5d",
    "/post/1b5b10_c2aa58c",
    "/post/1b5b10_c20b6c9",
    "/post/1b5b10_c1b67ef",
    "/post/1b5b10_c18e70b",
    "/post/1b5b10_c1500c2",
    "/post/1b5b10_be55d0c",
    "/post/1b5b10_be444f7",
    "/post/1b5b10_bd7ebbc",
    "/post/1b5b10_bcf536f",
    "/post/1b5b10_bc42a99",
    "/post/1b5b10_bbc0c7e",
    "/post/1b5b10_ba0c506",
    "/post/1b5b10_b65d9ab",
    "/post/1b5b10_b63b78e",
    "/post/1b5b10_b578faa",
    "/post/1b5b10_b50af26",
    "/post/1b5b10_b38263d",
    "/post/1b5b10_b1ab2ed",
    "/post/1b5b10_b1187da",
    "/post/1b5b10_b1187c6",
    "/post/1b5b10_b074128",
    "/post/1b5b10_b065b76",
    "/post/1b5b10_b038599",
    "/post/1b5b10_aef5e36",
    "/post/1b5b10_aebea95",
    "/post/1b5b10_ae6ec3a",
    "/post/1b5b10_ad5b234",
    "/post/1b5b10_aa7197d",
    "/post/1b5b10_aa28d0e",
    "/post/1b5b10_aa0b470",
    "/post/1b5b10_a9f3f0e",
    "/post/1b5b10_a98d36c",
    "/post/1b5b10_a7e73ee",
    "/post/1b5b10_a787050",
    "/post/1b5b10_a53daea",
    "/post/1b5b10_a4f44f3",
    "/post/1b5b10_a4b1c91",
    "/post/1b5b10_a45d18c",
    "/post/1b5b10_a42acb5",
    "/post/1b5b10_a33e159",
    "/post/1b5b10_a31ad56",
    "/post/1b5b10_a2a2715",
    "/post/1b5b10_a2061ad",
    "/post/1b5b10_a185a59",
    "/post/1b5b10_a1757e3",
    "/post/1b5b10_a0de49f",
    "/post/1b5b10_9f13e96",
    "/post/1b5b10_9db7df3",
    "/post/1b5b10_9cf1f13",
    "/post/1b5b10_9cd4448",
    "/post/1b5b10_9ccdc2c",
    "/post/1b5b10_9c8580d",
    "/post/1b5b10_9c2aa27",
    "/post/1b5b10_9b97592",
    "/post/1b5b10_9b37fa6",
    "/post/1b5b10_9a07827",
    "/post/1b5b10_99e7ad7",
    "/post/1b5b10_988dcd8",
    "/post/1b5b10_975b080",
    "/post/1b5b10_9727262",
    "/post/1b5b10_95a161e",
    "/post/1b5b10_9503348",
    "/post/1b5b10_94ec475",
    "/post/1b5b10_94cebb5",
    "/post/1b5b10_9468c6c",
    "/post/1b5b10_94648fd",
    "/post/1b5b10_9402d33",
    "/post/1b5b10_9316554",
    "/post/1b5b10_92c211a",
    "/post/1b5b10_9237cb9",
    "/post/1b5b10_91f51a7",
    "/post/1b5b10_91edf44",
    "/post/1b5b10_91ca340",
    "/post/1b5b10_91549d3",
    "/post/1b5b10_9144c40",
    "/post/1b5b10_9104184",
    "/post/1b5b10_909a0da",
    "/post/1b5b10_8f9a98e",
    "/post/1b5b10_8eee304",
    "/post/1b5b10_8ed5749",
    "/post/1b5b10_8eb9a14",
    "/post/1b5b10_8e88318",
    "/post/1b5b10_8e8828e",
    "/post/1b5b10_8e1f0d1",
    "/post/1b5b10_8e1853a",
    "/post/1b5b10_8df4c55",
    "/post/1b5b10_8dc70cb",
    "/post/1b5b10_8db5a97",
    "/post/1b5b10_8d6bcb3",
    "/post/1b5b10_8d48a66",
    "/post/1b5b10_8d40287",
    "/post/1b5b10_8d17d0a",
    "/post/1b5b10_8ceddb3",
    "/post/1b5b10_8cb3a65",
    "/post/1b5b10_8c79781",
    "/post/1b5b10_8b2871d",
    "/post/1b5b10_8ac2236",
    "/post/1b5b10_8a7057c",
    "/post/1b5b10_89e7183",
    "/post/1b5b10_89e6fe6",
    "/post/1b5b10_89ddac5",
    "/post/1b5b10_8947eab",
    "/post/1b5b10_88a6f55",
    "/post/1b5b10_88518ca",
    "/post/1b5b10_87d3668",
    "/post/1b5b10_87b305f",
    "/post/1b5b10_87580f7",
    "/post/1b5b10_8695ef1",
    "/post/1b5b10_85bb7f3",
    "/post/1b5b10_853001e",
    "/post/1b5b10_83cbf97",
    "/post/1b5b10_8330d76",
    "/post/1b5b10_823e239",
    "/post/1b5b10_81fb470",
    "/post/1b5b10_8177898",
    "/post/1b5b10_8177639",
    "/post/1b5b10_813179c",
    "/post/1b5b10_8080bbf",
    "/post/1b5b10_8060529",
    "/post/1b5b10_805b8b9",
    "/post/1b5b10_8040f96",
    "/post/1b5b10_8028b83",
    "/post/1b5b10_8003f38",
    "/post/1b5b10_7ffaf4f",
    "/post/1b5b10_7fd4893",
    "/post/1b5b10_7f667a8",
    "/post/1b5b10_7f4a55e",
    "/post/1b5b10_7c9a45a",
    "/post/1b5b10_7c85c9d",
    "/post/1b5b10_7c4c218",
    "/post/1b5b10_7c22bf5",
    "/post/1b5b10_7bdbaae",
    "/post/1b5b10_7bb6a75",
    "/post/1b5b10_7b7f2ad",
    "/post/1b5b10_7b5fd5f",
    "/post/1b5b10_79b76c0",
    "/post/1b5b10_79711e9",
    "/post/1b5b10_796d3db",
    "/post/1b5b10_78c7708",
    "/post/1b5b10_74af4b8",
    "/post/1b5b10_73f12cc",
    "/post/1b5b10_7390e05",
    "/post/1b5b10_71bac22",
    "/post/1b5b10_6f05f99",
    "/post/1b5b10_6ea90d0",
    "/post/1b5b10_6e9537b",
    "/post/1b5b10_6dce59f",
    "/post/1b5b10_6d1d889",
    "/post/1b5b10_6cdcc27",
    "/post/1b5b10_6ca49fd",
    "/post/1b5b10_6999930",
    "/post/1b5b10_68e4f11",
    "/post/1b5b10_688c9cb",
    "/post/1b5b10_67d8864",
    "/post/1b5b10_6539094",
    "/post/1b5b10_634e11f",
    "/post/1b5b10_61bda48",
    "/post/1b5b10_5fbd44d"
]

for w in works:
    work_id = w.split("/")[-1]
    res = utils.query_result_lofter(work_id)
    print(res)
    if res['title']:
        utils.sync_db(res)
        # utils.render_documents(**res)
